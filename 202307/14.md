### 2023 年 07/14(金)

## 勉強したこと

Next.js で front 側の実装を進めました。

rails のみで作ったときと比べて、できることが圧倒的に多いし、楽しい！！

後半の部で GetStaticProps や GetStaticPaths を使って、API を叩いてデータを取得するのですが、ちょっとできるか不安です w

できるかというか console.log で送ってる内容を必ず見るのですが、配列でフォームから送る場合うまくいくのか不安です

サーバー負担がでかければ一個ずつ保存するようにコード変更するしかないですねぇ。。。

JSON を見ればわかりやすい、だがあまりにもネストして書くと見づらいうまくいくかわからない初めての部分なので API 作ってからしっかりと

叩けるか不安です。

パフォーマンスのことを考えると、useState だけでなく useCallback や useEffect や useMemo など も必要になってくるので

これらの使い方もしっかりと理解しておきたいです。

特に計算結果など何度も関数使う場合などはメモ化必須だと思いました(自分のアプリ常に計算していますしこれもレンダリングされていたのか)

## わかったこと

できるかわからないが初めてのことなので仕方ないですね、無理そうだと思ったらすぐに引き返すことにします。

---

関数を繰り返し同じことを行い変化はしていくが、その分全てが再レンダリングされるので、パフォーマンスが悪くなる

その時に出てくるのが useCallback であり、自分の場合ボタンを押すと textarea が増えるのですが

これを useCallback で囲むことで、今までのものを再レンダリングせずに再利用してくれるため、パフォーマンスが向上する

これは React や Next.js の特徴であり、これを使わないとパフォーマンスが悪くなるので、しっかりと理解しておきたいです。

そこにプラスして GetStaticProps と GetStaticPaths で動的ルーティングも叩け、ISR をうまく使いこなせれば

なかなかいいアプリができるのではないのかと思いました。

これらのことは、戦い(開発)ながら成長していくしかないですね w

## 次やること

front 画面終わらせる詐欺してるけどなかなか終わりません！！

焦らずしっかりと作り込みたいと思います。

## 感じたこと

謎のエラーが出て無駄に時間を使ってしまいました。

```
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
```

これはコンポーネントが未定義で定義されているファイルからコンポーネントを
export し忘れているか、default 　 import と名前付き import が混合している

可能性があると言われているのですが、、、全くそんなことなく全てのコンポーネントを export 確認と default import か名前付きかを確認しても間違えはありませんでした。

個人的に page は default export で再利用や細かいコンポーネントは名前付き export 自分ルールを決めてますし

呼ぶときはしっかりと違いを理解して import しているし

この error という名のバグはおかしいと思い今日少し萎えかけました ww

Docker コンテナ立て直しと再起動行ったら何事もなかったかのように動きました！(時間返せ)

一気にディレクトリ整理などでインポートのパスが変わったので、それが負担になり一時的なエラーだったのかもしれません。。

## 勉強時間

Today: 10h

Total: 677h

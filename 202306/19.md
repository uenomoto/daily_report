### 2023 年 06/19(月)

## 取り組んだ課題

RailsEC サイト作る

- カート機能実装

レビューお返事返ってきたら内容次第で修正！

## わかったこと

やはり自分は鈍い気がするもっとスパスパ機能を作っていきたい

### comparison of Integer with nil failed

これは整数値が nil だぜと言っている
だがログを見ると値はある、文字列になっていた
ストロングパラメータの方で to_i で整数にしてあげることでエラーが出なくなりました。

### ストロングパラメータが上手く機能していないと

Unpermitted parameters に続く赤文字が出てくる
これはセキュリティにもつながってくるのでしっかりと設定すること！

### button_to と form_with の挙動の違い

button_to は`{amount: "1", product_id: "7"}`

form_with は`{cart_product: {amount: "1", product_id: "7"}}`

button_to だと params.require(:cart_product)が悪さしてエラーが発生する

よってストロングパラメータの仕方を変える必要がある。

後は submit タイプでアイコンとボタンをセットにする方法

カートに商品追加するとき hidden_field 使わなくてもできる方法

DB 操作が複数ある場合のコントローラの書き方

などなどいっぱい学びがありました！！！

## 次やること

カート機能実装

- カートに入った商品を削除すると在庫数が戻る(増える)ロジックを書く

そしたら提出できるぐらいになりそうです！

## 感じたこと

調べ物の多い 1 日でした。

初めて知った事が多かったのでしっかりと索引作っておきます

## 勉強時間

Today: 10h

Total: 517h

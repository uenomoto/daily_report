### 2023 年 06/26(月)

## 勉強したこと

AWS のアーキテクチャ図の書き方

- draw.io で書いてみる

AWS の ECS の使い方（軽く）

## わかったこと

ECS は Fargate と EC2 の二種類の起動タイプがある

- 低コストで運用したい場合は Fargate
- パフォーマンスを重視したい場合は EC2

パフォーマンスは大事だけど、まずは低コストで実験的に運用したいので Fargate で行きます！

ECS はコンテナを管理するサービス　 EKS は Kubernetes を管理するサービス

EKS は学習コストが高すぎてヤバみ絶対に時間足りない

---

とりあえず便利そうなので AWSCLI をインストールしてみました！

cloudformation は AWS のリソースをコードで管理するサービスである！

例えば`ckoudformation-vpc.yml`というファイルを作成して、その中に VPC の設定を書いておけば、

`aws cloudformation create-stack --stack-name vpc --template-body file://cloudformation-vpc.yml`という

コマンドを実行するだけで VPC の設定ができる！

すなわち、GUI で設定するのではなく、コードで設定することで、設定を共有したり、バージョン管理したり、再利用したりできるようになる！

何より一回テンプレを作っておけば、何度も同じ設定をする必要がなくなるので、効率化に繋がる。

テラフォームと同じようなものだと思う。

大きな違いとしたら、テラフォームは AWS に限らず、

他のクラウドサービスにも対応しているが、cloudformation は AWS にしか対応していないところですかね？

## 次やること

今の自分の Rails の課題がしょぼすぎるので改造する。

rails と Next.js の連携をやる。

デプロイは rails は ECS でやり、Next.js は Vercel でやる方向です。

Vercel はドメイン化できるので、ドメインを取得して、SSL 証明書を取得して、ドメインを設定する。(やったことない)

ci/cd は GitHub Actions でやる!

ci はテストと rubocop で、cd は main ブランチに push したら自動でデプロイするようにしたい。

これらを来週のフィードバックまでに学習して完成してそのままこの環境をオリプロで使うのが理想。(現実は挫折)

でもまずはオリプロの画面遷移図とワイヤーフレームと業務フロー図作成しなくちゃ。。。。

やる ZO!

## 感じたこと

焦りを感じる

二週間ほぼ何もできなかったのが痛い。

rails の Fat Model Skinny Controller の原則を学んだぐらい。

30 日の坂本さんとの面談までに画面遷移図とワイヤーフレームと業務フロー図を作成しなくては！

今週はハロワ行ってお金もらったり、前職の退職金の申し込みをしてなどと先週できなかったこともやらなくてはならないので気合入れるかぁ〜

## 勉強時間

Today: 15h

Total: 544h
